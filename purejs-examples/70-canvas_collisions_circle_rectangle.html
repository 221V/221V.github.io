<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <title>Canvas collisions circle rectangle</title>
    <style>
      body {
        margin:0;
        padding:0;
        background-color:white;
      }
      canvas{
        //background-color:#FFF;
        border:1px solid red;
      }
    </style>
  </head>
  <body>
    <!--<canvas id="myCanvas" width="512" height="512"></canvas>-->
<script>
'use strict';

//var canvas = document.getElementById('myCanvas');
//var ctx = canvas.getContext('2d');

//var cw=canvas.width;
//var ch=canvas.height;
//canvas.style.border='1px solid red';


//Are a circle and rectangle colliding?

// rectangle object: { x:, y:, width:, height: }
// circle object: { x:, y:, radius: }
// return true if the rectangle and circle are colliding
function RectCircleColliding(rect,circle){
  var dx=Math.abs(circle.x-(rect.x+rect.width/2));
  var dy=Math.abs(circle.y-(rect.y+rect.height/2));
  if( dx > circle.radius+rect.width/2 ){ return(false); }
  if( dy > circle.radius+rect.height/2 ){ return(false); }
  if( dx <= rect.width ){ return(true); }
  if( dy <= rect.height ){ return(true); }
  var dx=dx-rect.width;
  var dy=dy-rect.height
  return(dx*dx+dy*dy <= circle.radius*circle.radius);
}



</script>
  </body>
</html>
